<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<section class="content">
  <div class="container-fluid">
    <div class="row">
      <div class="box_btn">
        <button class="btn_create" mat-raised-button (click)="openCreate('300ms', '300ms')">Add New</button>
        <input type="text" class="form-control box_search" [(ngModel)]="searchText" placeholder="Search...">
      </div>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th (click)="sortData('id')">
                ID <i class="fa fa-caret-{{sortColumn === 'id' && sortDirection === 'asc' ? 'up' : 'down'}}"></i>
              </th>
              <th (click)="sortData('driving_license_expiration')">
                License Expiration <i
                  class="fa fa-caret-{{sortColumn === 'driving_license_expiration' && sortDirection === 'asc' ? 'up' : 'down'}}"></i>
              </th>
              <th (click)="sortData('id_card')">
                ID Card <i
                  class="fa fa-caret-{{sortColumn === 'id_card' && sortDirection === 'asc' ? 'up' : 'down'}}"></i>
              </th>
              <th (click)="sortData('kh_name')">
                Kh Name <i
                  class="fa fa-caret-{{sortColumn === 'kh_name' && sortDirection === 'asc' ? 'up' : 'down'}}"></i>
              </th>
              <th (click)="sortData('name')">
                Name <i class="fa fa-caret-{{sortColumn === 'name' && sortDirection === 'asc' ? 'up' : 'down'}}"></i>
              </th>
              <th (click)="sortData('phone_no')">
                Phone No <i
                  class="fa fa-caret-{{sortColumn === 'phone_no' && sortDirection === 'asc' ? 'up' : 'down'}}"></i>
              </th>
              <th>Images</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let driver of getFilteredAndPaginatedRows()">
              <td>{{ driver.id }}</td>
              <td>{{ driver.driving_license_expiration }}</td>
              <td>{{ driver.id_card }}</td>
              <td>{{ driver.kh_name }}</td>
              <td>{{ driver.name }}</td>
              <td>{{ driver.phone_no }}</td>
              <td>
                <img class="Image" [src]="driver.photo" *ngIf="driver.photo" alt="Driver Image">
              </td>
              <td>
                <span class="btn icon1" mat-raised-button (click)="openEdit(driver)"><i
                    class="fa-regular fa-pen-to-square"></i></span>
                <span class="btn icon2" (click)="deleteData(driver)"><i class="fa-regular fa-trash-can"></i></span>
              </td>
            </tr>
          </tbody>
        </table>
        <mat-paginator showFirstLastButtons [pageSizeOptions]="[5, 10, 20]" [pageSize]="itemsPerPage"
          [length]="totalItems" (page)="onPageChange($event)">
        </mat-paginator>
      </div>
    </div>
  </div>
</section>